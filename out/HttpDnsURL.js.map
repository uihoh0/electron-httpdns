{"version":3,"sources":["../src/HttpDnsURL.ts"],"names":[],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAIc,MAAO,UAAP,SAA0B,UAA1B,CAA6B;AAGvC,EAAA,WAAA,CAAY,KAAZ,EAA2B,IAA3B,EAA4D,OAA5D,EAAmF;AAC/E,UAAM,KAAN,EAAa,IAAb;AACA,UAAM,GAAG,GAAG,KAAI,UAAJ,EAAQ,KAAR,EAAe,IAAf,CAAZ;AACA,SAAK,eAAL,GAAuB,GAAG,CAAC,QAA3B;AACA,SAAK,GAAL,GAAW,OAAO,IAAI,OAAO,CAAC,EAA9B;AACH;;AACD,MAAI,IAAJ,GAAQ;AACJ,UAAM,GAAG,GAAG,IAAZ;AACA,QAAI,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,EAAJ,IAAU,GAAG,CAAC,QAAQ,EAArD;;AACA,QAAI,GAAG,CAAC,IAAR,EAAc;AACV,MAAA,IAAI,IAAI,IAAI,GAAG,CAAC,IAAI,EAApB;AACH;;AACD,IAAA,IAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,EAApC;AACA,WAAO,IAAP;AACH;;AACD,MAAI,QAAJ,GAAY;AACR,WAAO,KAAK,GAAL,IAAY,KAAK,eAAjB,IAAoC,KAAK,IAAhD;AACH;;AACD,MAAI,IAAJ,CAAS,GAAT,EAAmB;AACf,SAAK,eAAL,GAAuB,GAAvB;AACA,SAAK,IAAL,GAAY,GAAZ;AACH;;AACD,MAAI,IAAJ,GAAQ;AACN,WAAO,KAAK,eAAL,IAAwB,KAAK,IAA7B,IAAqC,KAAK,QAAjD;AACD;;AACD,MAAI,EAAJ,GAAM;AACF,WAAO,KAAK,GAAZ;AACH;;AACD,MAAI,EAAJ,CAAO,EAAP,EAA4B;AACxB,SAAK,GAAL,GAAW,EAAX;AACH;;AAjCsC,C","sourcesContent":["import {URL} from 'url'\ninterface HttpDnsURLOpt  {\n    ip: string\n}\nexport default class HttpDnsURL extends URL {\n    private _ip?: string\n    private _originHostName?: string\n    constructor(input: string, base?: string | URL | undefined, options?: HttpDnsURLOpt){\n        super(input, base)\n        const tmp = new URL(input, base)\n        this._originHostName = tmp.hostname\n        this._ip = options && options.ip\n    }\n    get href() {\n        const url = this\n        let href = `${url.protocol}//${url.ip || url.hostname}`\n        if (url.port) {\n            href += `:${url.port}`\n        }\n        href += `${url.pathname}${url.search}`\n        return href\n    }\n    get hostname(){\n        return this._ip || this._originHostName || this.host\n    }\n    set host(str:string){\n        this._originHostName = str\n        this.host = str\n    }\n    get host () {\n      return this._originHostName || this.host || this.hostname\n    }\n    get ip(): string|undefined{\n        return this._ip\n    }\n    set ip(ip:string | undefined){\n        this._ip = ip\n    }\n}"],"sourceRoot":""}
